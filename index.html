<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Pessoal - Frutiger</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Garante que s√≥ finan√ßas aparece inicialmente */
        #leitura, #abstinencia {
            display: none !important;
        }
        #financas {
            display: block !important;
        }
    </style>
</head>
<body>

    <header class="header">
        <h1>Dashboard Pessoal V2.0</h1>
        <p>Controle suas Finan√ßas, Leituras e H√°bitos de Produtividade.</p>
    </header>

    <nav class="aba-menu">
        <button class="aba-botao active" data-aba="financas">üí∞ Finan√ßas</button>
        <button class="aba-botao" data-aba="leitura">üìö Leituras</button>
        <button class="aba-botao" data-aba="abstinencia">üéØ Fidelidade</button>
    </nav>

    <main class="container">
        
        <!-- SE√á√ÉO 1: FINAN√áAS -->
        <section id="financas" class="content-section financeiro-section">
            <h2>Controle Financeiro</h2>
            
            <div class="resumo-valores">
                <div class="card receita">
                    <h3>Receita Mensal</h3>
                    <p id="totalReceita">R$ 0,00</p>
                </div>
                <div class="card despesa">
                    <h3>Despesa Total</h3>
                    <p id="totalDespesa">R$ 0,00</p>
                </div>
                <div class="card saldo">
                    <h3>Saldo Atual</h3>
                    <p id="saldoAtual">R$ 0,00</p>
                </div>
            </div>

            <div class="form-container">
                <h3>Adicionar Nova Transa√ß√£o</h3>
                <form id="formTransacao">
                    <label for="descricao">Descri√ß√£o:</label>
                    <input type="text" id="descricao" required>

                    <label for="valor">Valor (R$):</label>
                    <input type="number" id="valor" step="0.01" required>
                    
                    <label for="tipo">Tipo:</label>
                    <select id="tipo" required>
                        <option value="receita">Receita (+)</option>
                        <option value="despesa">Despesa (-)</option>
                    </select>

                    <button type="submit">Adicionar</button>
                </form>
            </div>

            <div class="historico-container">
                <h3>Hist√≥rico de Transa√ß√µes</h3>
                <ul id="listaTransacoes"></ul>
            </div>
        </section>

        <!-- SE√á√ÉO 2: LEITURAS -->
        <section id="leitura" class="content-section leitura-section">
            <h2>Acompanhamento de Leitura</h2>
            
            <div class="form-container">
                <h3>Adicionar Novo Livro</h3>
                <form id="formLivro">
                    <label for="tituloLivro">T√≠tulo do Livro:</label>
                    <input type="text" id="tituloLivro" required>
                    
                    <label for="autorLivro">Autor:</label>
                    <input type="text" id="autorLivro" required>

                    <label for="paginasTotais">P√°ginas Totais:</label>
                    <input type="number" id="paginasTotais" min="1" required>
                    
                    <label for="paginasIniciais">P√°ginas J√° Lidas (Opcional):</label>
                    <input type="number" id="paginasIniciais" value="0" min="0">
                    
                    <button type="submit">Adicionar Livro</button>
                </form>
            </div>

            <div class="livros-container">
                <h3>Meus Livros</h3>
                <ul id="listaLivros"></ul>
            </div>
        </section>
        
        <!-- SE√á√ÉO 3: FIDELIDADE -->
        <section id="abstinencia" class="content-section abstinencia-section">
            <h2>Contador de Fidelidade</h2>
            
            <div class="contador-fidelidade">
                <h3>Dias de Fidelidade</h3>
                <p id="diasFidelidade">0 dias</p>
            </div>
            
            <div class="fidelidade-progresso-container">
                <div id="fidelidadeBarra" class="fidelidade-progresso-barra"></div>
            </div>
            <p id="progressoLabel">0 / 60 dias</p>
            
            <p class="mensagem-incentivo" id="incentivoMensagem">Defina sua data de in√≠cio para come√ßar!</p>

            <div id="formContainerFidelidade" class="form-container">
                <h3>Definir Data de In√≠cio</h3>
                <form id="formAbstinencia">
                    <label for="dataInicio">Eu comecei minha jornada em:</label>
                    <input type="date" id="dataInicio" required>
                    <button type="submit">Iniciar Contagem</button>
                </form>
            </div>
            
            <button id="botaoRecaida" class="botao-recaida" style="display: none;">üíî Tive uma Reca√≠da</button>
        </section>
    </main>
    
    <div id="overlayRecaida" class="overlay hidden">
        <div class="overlay-content">
            <p>Voc√™ caiu e n√£o foi fiel...</p>
            <button id="fecharOverlay">Entendido</button>
        </div>
    </div>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    
    <script src="script.js"></script>
</body>
</html>
